import React from 'react';
import styled from 'styled-components';

const StarRating = ({ rating, onRatingChange }) => {
  const stars = [1, 2, 3, 4, 5];

  const EmptyStar = () => (
    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.55 41.7C14.75 42.1667 13.9333 42.3 13.1 42.1C12.2667 41.8667 11.6167 41.3833 11.15 40.65C10.7167 39.9167 10.5667 39.0833 10.7 38.15L12.45 28.2C12.45 28.1333 12.45 28.1333 12.45 28.2C12.4833 28.2333 12.5 28.3 12.5 28.4C12.5333 28.5667 12.5667 28.7333 12.6 28.9C12.6667 29.0667 12.7167 29.1667 12.75 29.2L5.5 22.05C4.83333 21.4167 4.48333 20.6833 4.45 19.85C4.41667 18.9833 4.66667 18.2167 5.2 17.55C5.76667 16.8833 6.5 16.5 7.4 16.4L16.85 15C16.6167 15.4 16.4833 15.6167 16.45 15.65L21 6.45C21.4333 5.65 22.0333 5.11666 22.8 4.85C23.6 4.55 24.3833 4.55 25.15 4.85C25.95 5.11666 26.5667 5.65 27 6.45L31.55 15.65C31.3833 15.4167 31.2333 15.1833 31.1 14.95L40.7 16.45C41.6 16.5833 42.3 16.9833 42.8 17.65C43.3333 18.2833 43.5667 19.0167 43.5 19.85C43.4667 20.6833 43.1333 21.4167 42.5 22.05L35.25 29.2C35.15 29.2667 35.1667 29.0833 35.3 28.65C35.4333 28.2167 35.5167 28.0667 35.55 28.2L37.3 38.15C37.4667 39.0833 37.3167 39.9167 36.85 40.65C36.3833 41.35 35.7333 41.8167 34.9 42.05C34.1 42.25 33.2833 42.1333 32.45 41.7L23.4 36.95C23.2667 36.8833 23.3333 36.85 23.6 36.85C23.8667 36.8167 24.1333 36.8167 24.4 36.85C24.6667 36.85 24.7333 36.8833 24.6 36.95L15.55 41.7ZM22.65 33.45C23.0833 33.2167 23.5333 33.1 24 33.1C24.5 33.1 24.95 33.2167 25.35 33.45L34.35 38.2C34.6167 38.3333 34.6667 38.5 34.5 38.7C34.3667 38.9 34.15 39.0333 33.85 39.1C33.5833 39.1667 33.4333 39.0667 33.4 38.8L31.65 28.9C31.55 28.4667 31.5667 28.0167 31.7 27.55C31.8667 27.0833 32.1167 26.7 32.45 26.4L39.7 19.25C39.9 19.05 40.0833 19.0667 40.25 19.3C40.4167 19.5 40.4833 19.7333 40.45 20C40.4167 20.2667 40.2833 20.3833 40.05 20.35L30.05 18.85C29.55 18.7833 29.1167 18.6167 28.75 18.35C28.3833 18.05 28.1 17.7 27.9 17.3L23.4 8.3C23.2667 8.06667 23.3333 7.9 23.6 7.8C23.8667 7.7 24.1333 7.7 24.4 7.8C24.6667 7.9 24.7333 8.06667 24.6 8.3L20.1 17.3C19.9 17.7 19.6167 18.05 19.25 18.35C18.8833 18.6167 18.4667 18.7833 18 18.85L7.95 20.4C7.68333 20.4333 7.53333 20.3167 7.5 20.05C7.5 19.75 7.58333 19.5 7.75 19.3C7.91667 19.0667 8.1 19.05 8.3 19.25L15.55 26.4C15.8833 26.7 16.1167 27.0833 16.25 27.55C16.4167 28.0167 16.45 28.4667 16.35 28.9L14.6 38.8C14.5667 39.0667 14.4167 39.1667 14.15 39.1C13.8833 39.0333 13.6667 38.9 13.5 38.7C13.3667 38.5 13.4167 38.3333 13.65 38.2L22.65 33.45Z" fill="#D9D9D9"/>
    </svg>
  );

  const FilledStar = () => (
    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.55 41.7C14.75 42.1667 13.9333 42.3 13.1 42.1C12.2667 41.8667 11.6167 41.3833 11.15 40.65C10.7167 39.9167 10.5667 39.0833 10.7 38.15L12.45 28.2C12.45 28.1333 12.45 28.1333 12.45 28.2C12.4833 28.2333 12.5 28.3 12.5 28.4C12.5333 28.5667 12.5667 28.7333 12.6 28.9C12.6667 29.0667 12.7167 29.1667 12.75 29.2L5.5 22.05C4.83333 21.4167 4.48333 20.6833 4.45 19.85C4.41667 18.9833 4.66667 18.2167 5.2 17.55C5.76667 16.8833 6.5 16.5 7.4 16.4L16.85 15C16.6167 15.4 16.4833 15.6167 16.45 15.65L21 6.45C21.4333 5.65 22.0333 5.11666 22.8 4.85C23.6 4.55 24.3833 4.55 25.15 4.85C25.95 5.11666 26.5667 5.65 27 6.45L31.55 15.65C31.3833 15.4167 31.2333 15.1833 31.1 14.95L40.7 16.45C41.6 16.5833 42.3 16.9833 42.8 17.65C43.3333 18.2833 43.5667 19.0167 43.5 19.85C43.4667 20.6833 43.1333 21.4167 42.5 22.05L35.25 29.2C35.15 29.2667 35.1667 29.0833 35.3 28.65C35.4333 28.2167 35.5167 28.0667 35.55 28.2L37.3 38.15C37.4667 39.0833 37.3167 39.9167 36.85 40.65C36.3833 41.35 35.7333 41.8167 34.9 42.05C34.1 42.25 33.2833 42.1333 32.45 41.7L23.4 36.95C23.2667 36.8833 23.3333 36.85 23.6 36.85C23.8667 36.8167 24.1333 36.8167 24.4 36.85C24.6667 36.85 24.7333 36.8833 24.6 36.95L15.55 41.7Z" fill="#FCC900"/>
    </svg>
  ); 
  return (
    <StarContainer>
      {stars.map((star) => (
        <Star
          key={star}
          onClick={() => onRatingChange(star)}
        >
          {star <= rating ? <FilledStar /> : <EmptyStar />}
        </Star>
      ))}
    </StarContainer>
  );
};

export default StarRating;

const StarContainer = styled.div`
  display: flex;
  gap: 0.5rem;
  font-size: 2rem;
  color: var(--gray300);
  cursor: pointer;
`;

const Star = styled.span`
  color: ${(props) => (props.$active ? 'var(--yellow)' : 'inherit')};
  transition: color 0.2s;
`;